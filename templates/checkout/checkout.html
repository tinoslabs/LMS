{% extends "base-1.html" %}
{% load static %}
{% block title %}Checkout{% endblock %}

{% load course_tags %}
{% block content %}

    <!--====== HEADER PART ENDS ======-->
   
    <!--====== SEARCH BOX PART START ======-->
    
    <div class="search-box">
        <div class="serach-form">
            <div class="closebtn">
                <span></span>
                <span></span>
            </div>
            <form action="#">
                <input type="text" placeholder="Search by keyword">
                <button><i class="fa fa-search"></i></button>
            </form>
        </div> <!-- serach form -->
    </div>
    
    <!--====== SEARCH BOX PART ENDS ======-->
   
    <!--====== PAGE BANNER PART START ======-->
    
    <section id="page-banner" class="pt-105 pb-130 bg_cover" data-overlay="8" style="background-image: url('{% static "images/page-banner-2.jpg" %}')">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="page-banner-cont">
                        <h2>Shop Checkout</h2>
                        <nav aria-label="breadcrumb">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item"><a href="#">Home</a></li>
                                <li class="breadcrumb-item active" aria-current="page">Check Out</li>
                            </ol>
                        </nav>
                    </div>  <!-- page banner cont -->
                </div>
            </div> <!-- row -->
        </div> <!-- container -->
    </section>
    
    <!--====== PAGE BANNER PART ENDS ======-->
    
    <!--====== CONTACT PART START ======-->

    <section id="contact-page" class="pt-90 pb-120 gray-bg">
        <div class="container">
            
            <form id="contact-form" method="post" action="">
                {% csrf_token %}
                <div class="row">
                    <div class="col-lg-7">
                        <div class="contact-from mt-30">
                            <div class="section-title">
                                <h5>Check Out</h5>
                                <h2>Billing Details</h2>
                            </div>
                            <div class="main-form pt-45">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="singel-form form-group">
                                            <input name="first_name" type="text" placeholder="First name" required value="{{ user.first_name }}">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="singel-form form-group">
                                            <input name="last_name" type="text" placeholder="Last name" required value="{{ user.last_name }}">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="singel-form form-group">
                                            <input name="country" type="text" placeholder="Country" required>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="singel-form form-group">
                                            <input name="address" type="text" placeholder="Address" required value="{{ user.profile.address }}">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="singel-form form-group">
                                            <input name="city" type="text" placeholder="Town/City" required>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="singel-form form-group">
                                            <input name="state" type="text" placeholder="State" required>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="singel-form form-group">
                                            <input name="postcode" type="text" placeholder="Post Code" required>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="singel-form form-group">
                                            <input name="phone" type="tel" placeholder="Phone" required value="{{ user.profile.phone }}">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="singel-form form-group">
                                            <input name="email" type="email" placeholder="Email" required value="{{ user.email }}">
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="singel-form form-group">
                                            <textarea name="order_comments" placeholder="Message"></textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-5">
                        <div class="order-summary">
                            <h2>Your order</h2>
                            <div class="order-items">
                                <div class="item">
                                    <span class="item-name">Product</span>
                                    <span class="item-total">Total</span>
                                </div>
                                <hr />
                              
                                <div class="item">
                                    <span class="item-name">{{ course.title }}</span>
                                    <span class="item-total">{{ course.price }}</span>
                                </div>
                                
                                <div class="item">
                                    <span class="item-name">Discount</span>
                                    <span class="item-total"> {{course.discount}}</span>
                                </div>
                                <hr />
                                <div class="total">
                                    <span class="item-name">Total</span>
                                    <span class="item-total">{% discount_calculation course.price course.discount %}</span>
                                </div>
                            </div>
                            <button type="submit" class="main-btn mt-3">Place Order</button>
                        </div>
                    </div>
                </div>
            </form>   

        </div>
    </section>
    

    <style>
        .order-summary {
            width: 100%;
            max-width: 400px;
            padding: 15px;
            background: White;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-family: Arial, sans-serif;
            color: #2c3e50;
            margin: 0; /* Ensure no extra margin */
            box-sizing: border-box; /* Ensures padding doesn't add to overall width/height */
            margin-top:30px;
        }
        
        .order-summary h2 {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .order-items .item {
            display: flex;
            justify-content: space-between;
            margin: 5px 0;
        }
        
        .order-items hr {
            border: none;
            border-top: 1px solid #ddd;
            margin: 5px 0;
        }
        
        .total {
            font-weight: bold;
            font-size: 16px;
        }
        
        .place-order {
            width: 100%;
            padding: 8px;
            background-color: #001f7d;
            color: white;
            font-weight: bold;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px; /* Adds some space only above button */
        }
        
        .place-order:hover {
            background-color: #000e5b;
        }
        
    </style>
    
    <!--====== CONTACT PART ENDS ======-->
   
    <!--====== FOOTER PART START ======-->
    {% endblock %}